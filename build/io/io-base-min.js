YUI.add("io-base",function(D){var d="io:start",P="io:complete",B="io:success",F="io:failure",f="io:end",X=0,O={"X-Requested-With":"XMLHttpRequest"},Z={},K=D.config.win;function L(){return K.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP");}function E(){var Y=X;X++;return Y;}function W(h,Y){var g={};g.id=D.Lang.isNumber(Y)?Y:E();h=h||{};if(!h.use&&!h.upload){g.c=L();}else{if(h.use){if(h.use==="native"){if(K.XDomainRequest){g.c=new XDomainRequest();g.t=h.use;}else{g.c=L();}}else{g.c=D.io._transport[h.use];g.t=h.use;}}else{g.c={};}}return g;}function I(Y){if(K&&K.XMLHttpRequest){if(Y.c){Y.c.onreadystatechange=null;}}Y.c=null;Y=null;}function Q(i,j){var h=new D.EventTarget().publish("transaction:"+i),Y=j.arguments,g=j.context||D;if(Y){h.on(j.on[i],g,Y);}else{h.on(j.on[i],g);}return h;}function U(h,g){var Y=g.arguments;if(Y){D.fire(d,h,Y);}else{D.fire(d,h);}if(g.on&&g.on.start){Q("start",g).fire(h);}}function e(m,n,k){var g=["status","statusText","responseText","responseXML"],i=n.arguments?{id:m.id,arguments:n.arguments}:{id:m.id},h,Y;for(h=0,Y=g.length;h<Y;h++){i[g[h]]=k[g[h]];}i.getAllResponseHeaders=function(){return k.getAllResponseHeaders();};i.getResponseHeader=function(j){return k.getResponseHeader(j);};return i;}function G(h,i){var g=e(h,i,h.e?{status:0,statusText:h.e}:h.c),Y=i.arguments;if(Y){D.fire(P,h.id,g,Y);}else{D.fire(P,h.id,g);}if(i.on&&i.on.complete){Q("complete",i).fire(h.id,g);}}function J(g,h){var Y=h.arguments;if(Y){D.fire(f,g.id,Y);}else{D.fire(f,g.id);}if(h.on&&h.on.end){Q("end",h).fire(g.id);}I(g);}function T(g,h){var Y=h.arguments;if(Y){D.fire(B,g.id,g.c,Y);}else{D.fire(B,g.id,g.c);}if(h.on&&h.on.success){Q("success",h).fire(g.id,g.c);}J(g,h);}function H(h,i){var g=h.e?{status:0,statusText:h.e}:h.c,Y=i.arguments;if(Y){D.fire(F,h.id,g,Y);}else{D.fire(F,h.id,g);}if(i.on&&i.on.failure){Q("failure",i).fire(h.id,g);}J(h,i);}function A(h,Y,i,g){I(h);i.xdr.use="flash";i.data=i.form&&g?g:null;return D.io(Y,i,h.id);}function R(Y,g){Y+=((Y.indexOf("?")==-1)?"?":"&")+g;return Y;}function V(Y,g){if(g){O[Y]=g;}else{delete O[Y];}}function C(i,Y){var g;Y=Y||{};for(g in O){if(O.hasOwnProperty(g)){if(Y[g]){continue;}else{Y[g]=O[g];}}}for(g in Y){if(Y.hasOwnProperty(g)){i.setRequestHeader(g,Y[g]);}}}function N(g,Y){if(g&&g.c){g.e=Y;g.c.abort();}}function S(g,Y){Z[g.id]=K.setTimeout(function(){N(g,"timeout");},Y);}function M(Y){K.clearTimeout(Z[Y]);delete Z[Y];}function b(h,i){var Y;try{if(h.c.status&&h.c.status!==0){Y=h.c.status;}else{Y=0;}}catch(g){Y=0;}if(Y>=200&&Y<300||Y===1223){T(h,i);}else{H(h,i);}}function c(Y,g){if(Y.c.readyState===4){if(g.timeout){M(Y.id);}K.setTimeout(function(){G(Y,g);b(Y,g);},0);}}function a(h,w,p){var q,g,t,k,Y,AA,n,y,l,z=h;w=D.Object(w);g=W(w.xdr||w.form,p);k=w.method?w.method=w.method.toUpperCase():w.method="GET";AA=w.sync;n=w.data;if(D.Lang.isObject(w.data)&&D.QueryString){w.data=D.QueryString.stringify(w.data);}if(w.form){if(w.form.upload){return D.io.upload(g,h,w);}else{q=D.io._serialize(w.form,w.data);if(k==="POST"||k==="PUT"){w.data=q;}else{if(k==="GET"){h=R(h,q);}}}}if(w.data&&k==="GET"){h=R(h,w.data);}if(w.data&&k==="POST"){w.headers=D.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},w.headers);}if(g.t){return D.io.xdr(h,g,w);}if(!AA){g.c.onreadystatechange=function(){c(g,w);};}try{g.c.open(k,h,AA?false:true);if(w.xdr&&w.xdr.credentials){g.c.withCredentials=true;}}catch(x){if(w.xdr){return A(g,z,w,n);}}C(g.c,w.headers);U(g.id,w);try{g.c.send(w.data||"");if(AA){G(g,w);b(g,w);return Y;}}catch(v){if(w.xdr){return A(g,z,w,n);}}if(w.timeout){S(g,w.timeout);}return{id:g.id,abort:function(){return g.c?N(g,"abort"):false;},isInProgress:function(){return g.c?g.c.readyState!==4&&g.c.readyState!==0:false;}};}a.start=U;a.complete=G;a.success=T;a.failure=H;a.end=J;a._id=E;a._timeout=Z;a.header=V;D.io=a;D.io.http=a;},"@VERSION@",{requires:["event-custom-base"],optional:["querystring-stringify-simple"]});